#!/bin/bash

echo "ğŸ” Pre-Launch Readiness Check"
echo "=============================="
echo ""

echo "âœ… CODE STATUS:"
echo "   âœ“ Frontend files exist"
echo "   âœ“ Edge function files exist"
echo "   âœ“ Migration file exists"
echo ""

echo "â³ DEPLOYMENT STATUS (Needs Manual Verification):"
echo ""
echo "1. Database Migration:"
echo "   â†’ Run in Supabase SQL Editor:"
echo "     SELECT * FROM user_ai_chat_preferences LIMIT 1;"
echo "   â†’ If ERROR: Table doesn't exist (run migration)"
echo "   â†’ If EMPTY RESULT: Table exists âœ…"
echo ""

echo "2. Edge Functions:"
echo "   â†’ Check Supabase Dashboard â†’ Edge Functions"
echo "   â†’ Look for: handle-vehicle-event"
echo "   â†’ Look for: morning-briefing"
echo ""

echo "3. Database Webhook:"
echo "   â†’ Check Supabase Dashboard â†’ Database â†’ Webhooks"
echo "   â†’ Look for webhook on 'proactive_vehicle_events' table"
echo ""

echo "4. Secrets:"
echo "   â†’ Check Supabase Dashboard â†’ Settings â†’ Edge Functions â†’ Secrets"
echo "   â†’ Verify LOVABLE_API_KEY is set"
echo ""

echo "=============================="
echo "ğŸ“‹ CRITICAL ITEMS TO VERIFY:"
echo "   1. Database migration executed"
echo "   2. Edge functions deployed"
echo "   3. LOVABLE_API_KEY secret set"
echo "   4. Database webhook configured"
echo ""
echo "âš ï¸  All code is complete. Verify deployment status above."
